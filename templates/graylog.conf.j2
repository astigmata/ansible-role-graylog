# Graylog {{ graylog_version }} Configuration
# Generated by Ansible

# Core settings
is_leader = true
node_id_file = /usr/share/graylog/data/config/node-id
password_secret = {{ graylog_password_secret }}
root_password_sha2 = {{ graylog_root_password_sha2 }}

# HTTP configuration
http_bind_address = 0.0.0.0:9000
http_external_uri = http://localhost:9000/

# Database connections
mongodb_uri = mongodb://{{ mongodb_root_username }}:{{ mongodb_root_password }}@graylog_mongodb:27017/{{ mongodb_database }}?authSource=admin
elasticsearch_hosts = http://graylog_opensearch:9200

# Data storage
data_dir = /usr/share/graylog/data
message_journal_enabled = true
message_journal_dir = /usr/share/graylog/data/journal
message_journal_max_age = 12h
message_journal_max_size = 5gb

# Performance tuning
processbuffer_processors = 5
outputbuffer_processors = 3
processor_wait_strategy = blocking
ring_size = 65536
inputbuffer_ring_size = 65536
inputbuffer_processors = 2
inputbuffer_wait_strategy = blocking

# General settings
root_timezone = UTC
allow_leading_wildcard_searches = true
allow_highlighting = true